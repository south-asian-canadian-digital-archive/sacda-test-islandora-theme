{#
/**
 * @file
 * Custom header template for SACDA theme.
 * Ported from Svelte component to use Tailwind classes.
 *
 * Available variables:
 * - page: The page render array containing header/menu regions.
 * - logo: Logo URL for the header (if provided).
 * - site_name: The site name.
 * - primary_color, secondary_color, light_color: Theme colors.
 */
#}

{% set primary = primary_color|default('#F99D2A') %}
{% set secondary = secondary_color|default('#414042') %}
{% set light = light_color|default('#FFEDC2') %}

<header role="navigation" aria-label="Main navigation" class="sacda-header relative top-0 z-500 mb-2 flex flex-col items-center justify-between bg-white px-10 pt-9 pb-6 font-semibold text-foreground shadow-md md:flex-row lg:flex-row">
	<div class="w-full md:w-fit lg:w-fit flex justify-between items-center md:block lg:block">
		<a href="{{ path('<front>') }}">
			{% if logo %}
				<img src="{{ logo }}" alt="{{ site_name }}" class="w-64"/>
			{% else %}
				<span class="text-xl font-bold">{{ site_name }}</span>
			{% endif %}
		</a>

		<button class="sacda-mobile-nav-toggle bg-primary text-primary-foreground absolute top-0 right-10 px-8 py-10 md:hidden lg:hidden border-none cursor-pointer" aria-expanded="false" aria-controls="sacda-nav-content" id="sacda-mobile-toggle" type="button">
			<span class="sr-only">Toggle navigation</span>
			<svg class="sacda-toggle-icon icon-menu" width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M3 12H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				<path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				<path d="M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
			</svg>
			<svg class="sacda-toggle-icon icon-close hidden" width="24" height="24" viewbox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
				<path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
				<path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
			</svg>
		</button>
	</div>

	<div id="sacda-nav-content" class="sacda-nav-content flex flex-col items-end gap-4">
		<div class="sacda-menu-top">{{ page.menu_top }}</div>
		<div class="sacda-menu-bottom flex">{{ page.menu_bottom }}</div>
	</div>
</header>

<style>
	@source "../../css/main.css";

	/* Breakpoint-specific styles that need CSS for is-open state toggle */
	#sacda-nav-content {
		max-height: 0;
		overflow: hidden;
		transition: max-height 0.2s ease-in-out;
	}

	#sacda-nav-content.is-open {
		max-height: 500px;
		overflow: visible;
	}

	@media(min-width: 48rem) {
		#sacda-nav-content {
			max-height: none !important;
			overflow: visible !important;
			display: flex !important;
		}
	}

	/* Navigation Links - hover state with custom property */
	.sacda-header .sacda-nav-list .sacda-nav-item .sacda-nav-link {
		@apply border-b-2 border-transparent pb-1 transition-all duration-200 ease-in-out no-underline inline-block text-foreground font-semibold;
	}

	.sacda-header .sacda-nav-list .sacda-nav-item .sacda-nav-link:hover {
		@apply border-b-2 border-primary;
	}
</style>

<script>
	(function () {
var toggle = document.getElementById('sacda-mobile-toggle');
var nav = document.getElementById('sacda-nav-content');
var iconMenu = toggle ? toggle.querySelector('.icon-menu') : null;
var iconClose = toggle ? toggle.querySelector('.icon-close') : null;

if (! toggle || ! nav) 
return;



toggle.addEventListener('click', function () { // Toggle aria-expanded
var expanded = this.getAttribute('aria-expanded') === 'true';
this.setAttribute('aria-expanded', String(! expanded));

// Toggle visibility class
nav.classList.toggle('is-open');

// Toggle icons
if (iconMenu && iconClose) {
iconMenu.classList.toggle('hidden');
iconClose.classList.toggle('hidden');
}
});
})();
</script>
